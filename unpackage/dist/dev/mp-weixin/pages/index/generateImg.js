(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/index/generateImg"],{

/***/ 298:
/*!*************************************************************************!*\
  !*** C:/Temax/W/TensionMax/mini-ps-uni-app/pages/index/generateImg.vue ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _generateImg_vue_vue_type_template_id_323775f0___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./generateImg.vue?vue&type=template&id=323775f0& */ 299);
/* harmony import */ var _generateImg_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./generateImg.vue?vue&type=script&lang=js& */ 301);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _generateImg_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _generateImg_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 14);

var renderjs




/* normalize component */

var component = Object(_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _generateImg_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _generateImg_vue_vue_type_template_id_323775f0___WEBPACK_IMPORTED_MODULE_0__["render"],
  _generateImg_vue_vue_type_template_id_323775f0___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null,
  false,
  _generateImg_vue_vue_type_template_id_323775f0___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

/* hot reload */
if (false) { var api; }
component.options.__file = "W/TensionMax/mini-ps-uni-app/pages/index/generateImg.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 299:
/*!********************************************************************************************************!*\
  !*** C:/Temax/W/TensionMax/mini-ps-uni-app/pages/index/generateImg.vue?vue&type=template&id=323775f0& ***!
  \********************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_generateImg_vue_vue_type_template_id_323775f0___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./generateImg.vue?vue&type=template&id=323775f0& */ 300);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_generateImg_vue_vue_type_template_id_323775f0___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_generateImg_vue_vue_type_template_id_323775f0___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_generateImg_vue_vue_type_template_id_323775f0___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_generateImg_vue_vue_type_template_id_323775f0___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 300:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Temax/W/TensionMax/mini-ps-uni-app/pages/index/generateImg.vue?vue&type=template&id=323775f0& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 301:
/*!**************************************************************************************************!*\
  !*** C:/Temax/W/TensionMax/mini-ps-uni-app/pages/index/generateImg.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _G_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_generateImg_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./generateImg.vue?vue&type=script&lang=js& */ 302);
/* harmony import */ var _G_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_generateImg_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_G_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_generateImg_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _G_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_generateImg_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _G_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_generateImg_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_G_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_G_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_generateImg_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 302:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Temax/W/TensionMax/mini-ps-uni-app/pages/index/generateImg.vue?vue&type=script&lang=js& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;function _toConsumableArray(arr) {return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();}function _nonIterableSpread() {throw new TypeError("Invalid attempt to spread non-iterable instance");}function _iterableToArray(iter) {if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter);}function _arrayWithoutHoles(arr) {if (Array.isArray(arr)) {for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {arr2[i] = arr[i];}return arr2;}} //
//
//
//
//
//

/* 以下数字的单位以rpx为准 */var _default =
{
  props: {
    img: Array,
    text: Array,
    canvasH: Number,
    canvasW: {
      type: Number,
      default: 720 } },


  data: function data() {
    return {
      ctx: null,
      k: '' //单位转换因子 unit conversion factor
    };
  },
  onReady: function onReady() {
    this.k = uni.getSystemInfoSync().screenWidth / 750;
    this.ctx = uni.createCanvasContext('generate', this);
  },
  methods: {
    /* 单位转换 */
    px2rpx: function px2rpx() {
      if (arguments.length === 1)
      return Math.floor(arguments[0] / this.k);
      var params = [];var _iteratorNormalCompletion = true;var _didIteratorError = false;var _iteratorError = undefined;try {
        for (var _iterator = arguments[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {var i = _step.value;
          params.push(Math.floor(i / this.k));
        }} catch (err) {_didIteratorError = true;_iteratorError = err;} finally {try {if (!_iteratorNormalCompletion && _iterator.return != null) {_iterator.return();}} finally {if (_didIteratorError) {throw _iteratorError;}}}
      return params;
    },
    rpx2px: function rpx2px() {
      if (arguments.length === 1)
      return Math.floor(arguments[0] * this.k);
      var params = [];var _iteratorNormalCompletion2 = true;var _didIteratorError2 = false;var _iteratorError2 = undefined;try {
        for (var _iterator2 = arguments[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {var i = _step2.value;
          params.push(Math.floor(i * this.k));
        }} catch (err) {_didIteratorError2 = true;_iteratorError2 = err;} finally {try {if (!_iteratorNormalCompletion2 && _iterator2.return != null) {_iterator2.return();}} finally {if (_didIteratorError2) {throw _iteratorError2;}}}
      return params;
    },
    generate: function generate() {var _this$ctx,_this = this;
      this.ctx.setFillStyle('#FFFFFF');
      (_this$ctx = this.ctx).fillRect.apply(_this$ctx, [0, 0].concat(_toConsumableArray(this.rpx2px(this.canvasW, this.canvasH))));
      var a = 100;var _iteratorNormalCompletion3 = true;var _didIteratorError3 = false;var _iteratorError3 = undefined;try {var _loop = function _loop() {var
          i = _step3.value;
          a += a;
          _this.ctx.beginPath();
          _this.ctx.save();
          if (i.degrees) {var _this$ctx2, _this$ctx3;
            (_this$ctx2 = _this.ctx).translate.apply(_this$ctx2, _toConsumableArray(_this.rpx2px(i.x + i.w / 2, i.y + i.h / 2)));
            _this.ctx.rotate(i.degrees * Math.PI / 180);
            (_this$ctx3 = _this.ctx).translate.apply(_this$ctx3, _toConsumableArray(_this.rpx2px(-i.x - i.w / 2, -i.y - i.h / 2)));
          }
          if (i.mirror) {var _this$ctx4, _this$ctx5;
            (_this$ctx4 = _this.ctx).translate.apply(_this$ctx4, _toConsumableArray(_this.rpx2px(i.x + i.w / 2, i.y + i.h / 2)));
            _this.ctx.scale(-1, 1);
            (_this$ctx5 = _this.ctx).translate.apply(_this$ctx5, _toConsumableArray(_this.rpx2px(-i.x - i.w / 2, -i.y - i.h / 2)));
          }

          if (i.shadow) {
            _this.ctx.setShadow(3, 5, 4, '#CDCDCD');
            _this.ctx.fill();
          }
          setTimeout(function () {var _this$ctx6;
            _this.radiusRect.apply(_this, _toConsumableArray(_this.rpx2px(i.x, i.y, i.w, i.h, i.r))); //（圆角）矩形路径绘制
            _this.ctx.clip();
            (_this$ctx6 = _this.ctx).drawImage.apply(_this$ctx6, [i.src].concat(_toConsumableArray(_this.rpx2px(i.x, i.y, i.w, i.h))));
            _this.ctx.restore();
          }, a);};for (var _iterator3 = this.img[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {_loop();

        }

        /* -文字绘制 */} catch (err) {_didIteratorError3 = true;_iteratorError3 = err;} finally {try {if (!_iteratorNormalCompletion3 && _iterator3.return != null) {_iterator3.return();}} finally {if (_didIteratorError3) {throw _iteratorError3;}}}var _iteratorNormalCompletion4 = true;var _didIteratorError4 = false;var _iteratorError4 = undefined;try {

        for (var _iterator4 = this.text[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {var i = _step4.value;
          var drawTxt = '', //当前绘制内容
          drawLineNum = 0, //当前行数索引
          drawIndex = 0; //当前绘制内容索引
          i.w = this.rpx2px(i.w);

          this.ctx.font = "".concat(i.weight, " ").concat(this.rpx2px(i.size), "px/").concat(this.rpx2px(i.lineHeight), "px sans-serif");
          this.ctx.setFillStyle(i.color);
          this.ctx.setTextBaseline('top');
          if (this.ctx.measureText(i.content).width <= i.w) {var _this$ctx7; //只有一行内容
            (_this$ctx7 = this.ctx).fillText.apply(_this$ctx7, [i.content].concat(_toConsumableArray(this.rpx2px(i.x, i.y))));
            if (i.lineThrough) {var _this$ctx8, _this$ctx9; //情景：存在贯穿线
              this.ctx.beginPath();
              (_this$ctx8 = this.ctx).moveTo.apply(_this$ctx8, _toConsumableArray(this.rpx2px(i.x, i.y + i.size / 2 - 3)));
              (_this$ctx9 = this.ctx).lineTo.apply(_this$ctx9, _toConsumableArray(this.rpx2px(i.x + this.px2rpx(this.ctx.measureText(i.content).width), i.y + i.size / 2 - 3)));
              this.ctx.setStrokeStyle(i.color);
              this.ctx.setLineWidth(1.6);
              this.ctx.stroke();
            }
          } else {
            for (var j = 0; j < i.content.length; j++) {
              drawTxt += i.content[j];
              if (this.ctx.measureText(drawTxt).width >= i.w) {
                if (drawLineNum === i.maxLineNum) {var _this$ctx10; //情景：多行时最后一行内容超过边界
                  (_this$ctx10 = this.ctx).fillText.apply(_this$ctx10, [i.content.substring(drawIndex, j - 1) + '...'].concat(_toConsumableArray(this.rpx2px(i.x, i.y + i.lineHeight *
                  drawLineNum))));
                  break;
                } else {var _this$ctx11; //情景：多行时最后一行之前的内容
                  (_this$ctx11 = this.ctx).fillText.apply(_this$ctx11, [i.content.substring(drawIndex, j + 1)].concat(_toConsumableArray(this.rpx2px(i.x, i.y + i.lineHeight * drawLineNum))));
                  drawIndex = j + 1;
                  drawLineNum += 1;
                  drawTxt = '';
                }
              } else {
                if (j === i.content.length - 1) {var _this$ctx12; //情景：多行时最后一行内容未超过边界
                  (_this$ctx12 = this.ctx).fillText.apply(_this$ctx12, [drawTxt].concat(_toConsumableArray(this.rpx2px(i.x, i.y + i.lineHeight * drawLineNum))));
                }
              }
            }
          }
        }} catch (err) {_didIteratorError4 = true;_iteratorError4 = err;} finally {try {if (!_iteratorNormalCompletion4 && _iterator4.return != null) {_iterator4.return();}} finally {if (_didIteratorError4) {throw _iteratorError4;}}}
      setTimeout(function () {
        _this.ctx.draw(false, function (res) {
          uni.canvasToTempFilePath({
            canvasId: 'generate',
            success: function success(res) {
              _this.$emit('exportSuccess', res.tempFilePath);
            } },
          _this);
        });
      }, a);



    },
    /* 获取canvas图片路径 */
    /* 圆角矩形路径 */
    radiusRect: function radiusRect(x, y, w, h, r) {
      if (r > w / 2 || r > h / 2) {
        r = Math.min(w, h) / 2;
      }
      this.ctx.beginPath();
      this.ctx.moveTo(x, y); // 将操作点移至左上角
      this.ctx.arcTo(x + w, y, x + w, y + r, r); // 画右上角的弧
      this.ctx.lineTo(x + w, y);
      this.ctx.arcTo(x + w, y + h, x + w - r, y + h, r); // 画右下角的弧
      this.ctx.lineTo(x + w, y + h);
      this.ctx.arcTo(x, y + h, x, y + h - r, r); // 画左下角的弧
      this.ctx.lineTo(x, y + h);
      this.ctx.arcTo(x, y, x + r, y, r); // 画左上角的弧
      this.ctx.lineTo(x, y);
      // this.ctx.closePath();
    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ })

}]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/generateImg.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/index/generateImg-create-component',
    {
        'pages/index/generateImg-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(298))
        })
    },
    [['pages/index/generateImg-create-component']]
]);
